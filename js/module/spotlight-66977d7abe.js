var spotlight={init:function(){this.setupSpotlights(),window.BLOG&&"function"!=typeof window.BLOG.onThemeColorChange2&&(window.BLOG.onThemeColorChange2=this.updateSpotlightColors.bind(this))},updateSpotlightColors:function(e){var n=this;e&&document.querySelectorAll(".card-spotlight").forEach(function(t){t.style.background="radial-gradient(circle at center,\n        ".concat(n.hexToRgba(e,.15)," 0%,\n        ").concat(n.hexToRgba(e,.1)," 20%,\n        ").concat(n.hexToRgba(e,.05)," 40%,\n        ").concat(n.hexToRgba(e,0)," 80%)")})},hexToRgba:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=0,o=0,a=0;return 3===(t=t.startsWith("#")?t.substring(1):t).length?(n=parseInt(t.charAt(0)+t.charAt(0),16),o=parseInt(t.charAt(1)+t.charAt(1),16),a=parseInt(t.charAt(2)+t.charAt(2),16)):6<=t.length&&(n=parseInt(t.substring(0,2),16),o=parseInt(t.substring(2,4),16),a=parseInt(t.substring(4,6),16)),"rgba(".concat(n,", ").concat(o,", ").concat(a,", ").concat(e,")")},getCurrentThemeColor:function(){var t=getComputedStyle(document.documentElement).getPropertyValue("--theme-color").trim();return t||"#7af"},setupSpotlights:function(){var e,p=this;function g(t,e,n,o,a,i,r){a=n+(-a*(t-e)+-i*n)/o*r;return{pos:t+a*r,vel:a}}"ontouchstart"in window||0<navigator.maxTouchPoints||(e=this.getCurrentThemeColor(),document.querySelectorAll(".article-card, .card-card").forEach(function(n){n.style.position="relative",n.style.overflow="hidden";var t=document.createElement("div"),o=(t.className="spotlight-wrapper",t.style.cssText="\n        position: absolute;\n        inset: 0;\n        pointer-events: none;\n        z-index: 1;\n        overflow: hidden;\n        border-radius: inherit;\n      ",document.createElement("div")),a=(o.className="card-spotlight",o.style.cssText="\n        position: absolute;\n        opacity: 0;\n        width: 220px;\n        height: 220px;\n        background: radial-gradient(circle at center,\n          ".concat(p.hexToRgba(e,.15)," 0%,\n          ").concat(p.hexToRgba(e,.1)," 20%,\n          ").concat(p.hexToRgba(e,.05)," 40%,\n          ").concat(p.hexToRgba(e,0)," 80%);\n        border-radius: 50%;\n        filter: blur(10px);\n        mix-blend-mode: overlay;\n        transition: opacity 0.3s ease;\n      "),t.appendChild(o),n.appendChild(t),0),i=0,r=0,c=0,l=0,s=0,d=!1,h=null;function u(){var t,e;h=d?(t=g(r,a,l,1,90,15,1/60),e=g(c,i,s,1,90,15,1/60),r=t.pos,c=e.pos,l=t.vel,s=e.vel,o.style.transform="translate(calc(".concat(r,"px - 50%), calc(").concat(c,"px - 50%))"),requestAnimationFrame(u)):(cancelAnimationFrame(h),null)}n.addEventListener("mouseenter",function(){d=!0,o.style.opacity="1";var t=n.getBoundingClientRect(),e=window.event;e&&(a=e.clientX-t.left,i=e.clientY-t.top,r=a,c=i),h=h||requestAnimationFrame(u)}),n.addEventListener("mousemove",function(t){var e=n.getBoundingClientRect();a=t.clientX-e.left,i=t.clientY-e.top}),n.addEventListener("mouseleave",function(){d=!1,o.style.opacity="0"})}))}};window.spotlight=spotlight;